--- diagnostics_win.cpp
+++ diagnostics_win.cpp	2009-11-06 15:10:47.000000000 +0100
@@ -22,7 +22,7 @@
 #include "boinc_win.h"
 #endif
 
-#ifdef _MSC_VER
+#if defined(_MSC_VER) || defined(__MINGW32__)
 #define snprintf    _snprintf
 #define strdate     _strdate
 #define strtime     _strtime
