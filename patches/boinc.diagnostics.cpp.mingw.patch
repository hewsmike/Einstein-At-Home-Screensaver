--- diagnostics.cpp
+++ diagnostics.cpp	2009-11-06 14:35:59.000000000 +0100
@@ -22,7 +22,7 @@
 #include "boinc_win.h"
 #endif
 
-#ifdef _MSC_VER
+#if defined(_MSC_VER) || defined(__MINGW32__)
 #define snprintf    _snprintf
 #define strdate     _strdate
 #define strtime     _strtime
